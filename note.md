# Hello World

## 程序框架

```c
#include <stdio.h>

int main()
{
    return 0;
}
```

所有程序都需要有的一段框架，在开始时先将框架写好再继续在框架中做接下来该做的事。

## 输出

```c
printf("Hello World!\n")
```

`""`里的内容叫做字符串，printf会把其中的内容原封不动的输出，  
`\n`表示需要在输出的结果后面换一行。

## 程序中的错误

编译的时候发现的错误所在的地方会以红色的底表示出来；  
具体的错误原因列在下方的窗口里，但很多时候错误提示不会那么好懂。

- 对C语言来说换行和空格不代表任何事情，所以有时候有错误提示要往前或者往后看看。
  不要用中文输入法来输入程序。

# 做计算

```c
printf("%d",12+34)
```

`printf`是输出双引号中的内容，但是如果是`%d`，输出的就不是`%d`了，而是输出双引号之后的值。  
`%d`以及后面的值要加逗号隔开。

如果写成 `printf("12+34=%d",12+34)`会输出为`12+34=46`

- 这里四则运算都可以做。

| 四则运算 | C符号 | 意义 |
|------|-----|----|
| +    | +   | 加  |
| -    | -   | 减  |
| x    | *   | 乘  |
| ÷    | /   | 除  |
|      | %   | 取余 |
| ()   | ()  | 括号 |

- `%`取余表示取两个数相除以后的余数。

## 错误示范

```c
#include <stdio.h>

int main()
{

	printf("3%4=%d",3%4); 
	
	return 0;
}
```

本意是想得出 `3` 除以 `4` 的取余，结果输出结果为 `3=3`。  
原因分析：
在 `printf` 中，`%` 不是普通字符，是用来引出格式说明符；

- `%d` 是输出一个 `int`，`%s` 是输出字符串，`%f` 是输出浮点数。

在`printf`中，`%4d` 是输出一个 `int`，占 4 个字符宽度；
但是实际写出的是 `3%4=%d`，那在这里的 `%4` 后没有类型说明符，属于非法格式，大多数编译器会“吞掉” `%4`，什么也不输出；  
于是实际效果变成了`3=3`。

可以改成 `printf("3%%4 = %d\n", 3 % 4)`;

## printf最常用格式符速查表

| 格式符 | 含义        | 对应类型   |
|-----|-----------|--------|
| %d  | 十进制整数     | int    |
| %f  | 浮点数       | double |
| %c  | 字符        | char   |
| %s  | 字符串       | char*  |
| %p  | 地址        | 指针     |
| %%  | 输出 `%` 本身 | 无参数    |

不严谨来说，`int` 是指整数，`double` 是指带小数的数，`char` 是指一个字符，`char*`是指向字符的地址（字符串）。

在C语言中不存在字符串这种基本结构，它的字符串是一串 `char` + `\0`（字符串结束标志）

## printf与char*

```c
	char* p="heello";
	printf("%s\n",p);
```

`p` 指向的是 `h` 的地址，地址里存的内容才是 `h`；  
`printf("%s\n",p)` 的意思是根据 `p` 指向的地址，一直往后读，读到`\0`，然后把所有字符都打出来。

如果是想要提取首字符，可以这么写：

```c
	char* p="heello"; 
	printf("%c\n", *p);
```

`p` 是指地址，而`*p`是指地址里的内容。  
同时还可以用`p+1`来指向下一个地址，`*(p+1)`指向第二个字符。

## 计算器代码（简略且按需修改版）

```c
#include <stdio.h>

int main()
{
	printf("xx+xx=%d",xx+xx);
	printf("xx-xx=%d",xx-xx);
	printf("xx*xx=%d",xx*xx);
	printf("xx/xx=%d",xx/xx);
	printf("xx%%xx=%d",xx%xx);
	
	return 0;
}
```

## 程序外输入

```c
#include <stdio.h>

int main()
{
	int price = 0;

	printf("请输入金额（元）：");
	scanf("%d",&price);

	int change = 100 - price;

	printf("找您%d元。\n",change);
	
	return 0;
}
```

输入也在终端窗口中；  
输入是以行为单位进行的，行的结束标志是你按下了回车键；  
在按下回车键之前，程序不会读到任何东西。

在这个程序之中，输入的数值是放入了变量之中。

`int price = 0;` 这一行就是定义了一个变量，变量的名字是`price`，类型是`int`，初始值是`0`；    
变量是一个保存数据的地方，当我们需要在程序里保存数据时，比如上面的例子中要记录用户输入的价格，就需要一个变量来保存它；  
用一个变量保存了数据，它才能参加到后面的计算中，比如计算找零。

### 变量定义

变量定义的一般形式就是：<类型名称><变量名称>;

- `int price; int amount; int price,amount;`
    - `;`是指这一行结束了，`,`是指这里有两个不同的东西。

变量需要一个名字，变量的名字是一种“标识符”，用于在程序中区分不同的变量。  
标识符有标识符的构造规则。基本的原则是：

1. 标识符只能由字母、数字和下划线组成；
2. 数字不可以出现在第一个位置上；
3. C语言的关键字（有的地方叫它们保留字）不可以用作标识符。
    - 关键字不需要背诵，如果用关键字做标识符，编译器会提示。

### 赋值和初始化

```c
int price = 0;
```

`price = 0` 是一个式子，这里的`=`是一个赋值运算符，表示将`=`
右边的值赋给左边的变量，在定义变量时做的赋值又叫做变量的初始化。  
对C语言来说，赋值和初始化的差别不大。

在数学中，`a=b`表示关系，即`a`和`b`的值一样，是静态的；  
而在程序设计中，`a=b`表示要求计算机做一个动作：将`b`的值赋给`a`；  
在数学中，`a=b`和`b=a`是等价的，而在程序设计中，两者的意思完全相反。

虽然C语言并没有强制要求所有的变量都在定义的地方做初始化，但是所有的变量在第一次被使用之前都应该被赋值一次。

如果没有初始化就直接使用变量，那该变量就是未定义的垃圾值，可能会发生任何结果。  
在机器层这代表了给变量分配了一块内存，但是不修改其内容，那这块内存里到底存着的是什么东西完全不可预测。

初始化是为了让变量从一个能解释的通的状态开始，`int price = 0`;的意思就是我明确规定：这个变量一开始代表”什么都没有“。
`0`并不是一个随便选的数字，而是逻辑上正确的起点，这样财富和人类的理解。

### 表达式

`=`是数字运算符，有运算符的式子就叫做表达式。

### 变量类型

```c
int price = 0;
```

变量的类型是`int`。  
C语言是一种有类型的语言，所有的变量在使用之前必须定义或者声明，所有的变量必须具有确定的数据类型。  
数据类型表示在变量中可以存放什么样的数据，变量中只能存放指定类型的数据，程序运行过程中也不能改变变量的类型。

当有需要储存的数据时，就定义一个对应的变量。

### ANSI C

在C99里，变量不一定要一开始就全部写在函数开头，你可以在代码中用到它之前的任何地方再定义它。  
而传统的ANSI C只能在代码开头的地方定义变量。

例：  
C99：

```c
int price = 0;

printf("请输入金额（元）：");
scanf("%d",&price);

int change = 100 - price;

printf("找您%d元。\n",change);
```

ANSI C：

```c
int price = 0;
int change = 0;
printf("请输入金额（元）：");
scanf("%d",&price);
change = 100 - price;
printf("找您%d元。\n",change);
```

### 读整数

在定义`price`变量之后，该如何将用户输入的值读入进来？  
使用`scanf()`函数将读入的结果赋值给变量`price`，`%d`说明读入一个整数。  
需要注意`price`前面的`&`，需要让`scanf()`读什么东西，就一定要把`&`加到对应变量名字前面。

如果在例子程序中`price`那里输入的不是整数，那`scanf()`会读不到任何东西，会给默认值也就是0。

### 关于scanf

出现在`scanf()`中`""`中的所有东西都是`scanf()`要读的东西，当然`%d`说明它在这里要读一个整数交给后面的一个变量。

```c
#include <stdio.h>

int main()
{
	int a = 0;
	int b = 0;
	
	scanf("%d %d", &a, &b);
	
	printf("%d %d\n", a, b);
	
	return 0;
}
```
`scanf("%d %d", &a, &b);`如果输入1 2能正常读取；  
`scanf("%d,%d", &a, &b);`如果输入1,2能正常读取；  
`scanf("%d %d ", &a, &b);`如果输入1 2 能正常读取；  
`scanf()`格式字符串并不会向用户输出任何内容，而是用于指导函数如何从输入流中读取和解释数据。  

### 常量

`int change = 100 - price;`  
固定不变的数是常数，直接卸载程序里，我们称作直接量。  
更好的方式是定义一个常量：`const int AMOUNT = 100;`。  

```c
#include <stdio.h>

int main()
{
	const int AMOUNT = 100;
	int price = 0;
	
	printf("请输入金额（元）：");
	scanf("%d", &price);
	
	int change = AMOUNT - price;
	
	printf("找您%d元。\n", change);
	
	return 0;
}
```

使用常量给100起一个名字能更容易让人理解100的含义，以及把常量放在代码前面的部分方便之后对程序进行修改。  

`const`是一个修饰符，加在`int`的前面，用来给这个常量加上一个`const（不变的）`的属性。  
这个`const`的属性表示这个变量的值一旦初始化，就不能再修改了。  
一般来说，常量名字是全大写的。  

# 计算身高的程序

#include <stdio.h>

```c
int main()
{
	printf("请分别输入身高的英尺和英寸，""如输入\"5 7\"表示5英尺7英寸：");
	
	int foot;
	int inch;
	
	scanf("%d %d", &foot, &inch);
	
	printf("身高是%f米。\n",(foot + inch / 12) * 0.3048);
	
	return 0;
}
```

以上代码`inch/12`会出现小数部分，而在C语言中两个整数的运算只能是整数，小数部分会被忽略掉，导致每次计算都会有误。  
修改办法：
1. 把`(foot + inch / 12) * 0.3048`改成`(foot + inch / 12.0) * 0.3048`即可解决问题；  
  - 因为当浮点数和整数放到一起运算时，C会将整数转换成浮点数，然后进行浮点数的计算。
2. 把inch定义为double类型的双精度浮点数变量。

> 浮点数时计算机内部表达非整数的一种方式，另一种方式叫做定点数，不过在C语言中不会遇到定点数。  
  人们借用浮点数这个词来表达所有的带小数点的数。
  目前学到的数据类型：
  1. 整数，int，printf("%d",...)，scanf("%d",...)
  2. 带小数点的数，double，printf("%f",...)，scanf("%lf",...)
  
  


2.2.1






















